<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .area-big{
            height: 400px;
            border: 1px solid black;
            background-color: lightsalmon;
        }
        .area{
            height: 200px;
            border : 1px solid black;
            background-color: lightsalmon;
        }
    </style>
</head>
<body>
    <h1>자바스크립트 객체</h1>
    <h3>객체 선언 및 호출</h3>

    <button onclick="jsobject1();">실행확인</button>
    <div id="area1" class="area-big"></div>
    <script>
        function jsobject1(){
            // 객체 생성
            var product = new Object();
            // 객체에 키값과 밸류값 작성
            product.pName = "Dry Mango";
            product.type = "Pickle";
            // 배열도 가능
            product.ingredient = ["mango", "sugar"];

            var div1Tag = document.getElementById("area1");
            div1Tag.innerHTML += "product : " + product + "<br>";
            div1Tag.innerHTML += "product.pName : " + product.pName + "<br>";
            div1Tag.innerHTML += "product.type : " + product.type + "<br>";
            // 배열 출력시 인덱스로 접근
            div1Tag.innerHTML += "product.ingredient[0] : " + product.ingredient[0] + "<br>";
            // 인덱스 없을때엔 모두 출력
            div1Tag.innerHTML += "product.ingredient : " + product.ingredient + "<br>";
        }
    </script>

    <h3>객체의 키</h3>
    <p>객체의 키는 모든 문자열을 하용할 수 있다</p>
    <button onclick="jsobject2();">실행확인</button>
    <div id="area2" class="area"></div>
    <script>
        function jsobject2(){
            var objTest = new Object();
            // 키 설정에는 . , [] 모두 사용 가능
            // []의 경우 띄어쓰기가 포함된 키도 가능
            objTest["I love you"] = "IU";
            objTest["I hate you"] = "javascript";

            var div2Tag = document.getElementById("area2");
            
            div2Tag.innerHTML += "I love you " + objTest["I love you"] + "<br>";
            div2Tag.innerHTML += "I hate you " + objTest["I hate you"] + "<br>";
            var product = new Object();
            product["pName"] = "Mango";
            product["type"] = "Pickle";
            div2Tag.innerHTML += "product['pName'] : " + product["pName"] + "<br>";
            div2Tag.innerHTML += "product['type'] : " + product["type"] + "<br>";
       }
    </script>
    <h3>객체의 메소드</h3>
    <p>객체의 value 중 함수 자료형인 value를 메소드라 함</p>
    <button onclick="jsobject3();">실행확인</button>
    <div id="area3" class="area"></div>
    <script>
        function jsobject3(){
            var dog = new Object();
            div3Tag = document.getElementById("area3");
            dog.name = "흰둥이";
            dog.eat = function(food){
                area3.innerHTML = this.name + "가 " + food +"를 먹고 있습니다. 냠냠";
            }
            dog.eat("개껌");
        }
    </script>

    <h3>객체와 반복문</h3>
    <p>객체의 value를 출력할 때에는 단순 for문으로는 사용할 수 없고 for in문(for each문)을 사용해야 함</p>
    <button onclick="jsobject4();">실행확인</button>
    <div id="area4" class="area"></div>
    <script>
        function jsobject4(){
            // var product = new Object();
            // product.pName = "Mango";
            // product.type = "Pickle";
            // product.ingredient = "sugar";
            
            // for(var word in product){
            //     console.log(product[word]);
            // }
            var game = new Object();
            game.title = "iron man";
            game.price = "55000원";
            game.language = "한국어";
            game.supportOS = "Windows10";
            game.service = true;
            
            // JSON
            var game = {
                "title" : "iron man",
                "price" : "55000원",
                "language" : "한국어"
            }
            
            var div4Tag = document.getElementById("area4");
            // for in문 사용시 키값을 저장할 변수 선언 필요
            // 요소에 id를 부여했을때 id값으로 태그에 접근 가능
            // id="area4", area4.innerHTML = "값 입력";
            // HTML에서는 camel case 사용 X
             for (var word in game){
                div4Tag.innerHTML += word + " : " + game[word] + "<br>";
            }
        }
    </script>
    <h3>객체의 in과 with 키워드</h3>

    <label>이름 : <input type="text" id="name"></label><br>
    <label>국어 : <input type="text" id="kor"></label><br>
    <label>영어 : <input type="text" id="eng"></label><br>
    <label>수학 : <input type="text" id="math"></label><br>
    <button onclick="jsobject5();">실행확인</button>
    <div id="area5" class="area-big"></div>
    <script>
        function jsobject5(){
            var student = new Object();
            var name = document.getElementById("name").value;
            var kor = document.getElementById("kor").value;
            var eng = document.getElementById("eng").value;
            var math = document.getElementById("math").value;

            student.name = name;
            // 사칙연산을 위한 형변환, 내장함수 parseInt, Number
            student.kor = Number(kor);
            student.eng = Number(eng);
            student.math = Number(math);
            var div5Tag = document.getElementById("area5");
            for(var word in student){
                div5Tag.innerHTML += word + " : " + student[word] + "<br>";
            }

            div5Tag.innerHTML += "<b>in 키워드 동작 확인</b><br>";
            console.log("name" in student);
            console.log("kor" in student);
            console.log("score" in student);
            div5Tag.innerHTML += "<b>with 키워드 동작 확인</b><br>";
            with(student){
                div5Tag.innerHTML += "학생이름 : " + name + "<br>";
                div5Tag.innerHTML += "국어점수 : " + kor + "<br>";
                div5Tag.innerHTML += "영어점수 : " + eng + "<br>";
                div5Tag.innerHTML += "수학점수 : " + math + "<br>";
                div5Tag.innerHTML += "총점 : " + (kor+eng+math) + "<br>";
                div5Tag.innerHTML += "평균 : " + ((kor+eng+math)/3) + "<br>";
            }
        }
    </script>

    <h3>객체의 키,값 추가와 제거</h3>
    
    <button onclick="jsobject6();">실행확인</button>
    <div id="area6" class="area"></div>
    <script>
        function jsobject6(){
            var person = new Object();
            person.name = "홍길동";
            person.hobby = "낚시";
            person.strength = "자바";
            person.dream = "웹개발자";
            person.toString = function(){
                var str = "";
                for(var key in person){
                    if(key != "toString")
                    str += key + " : " + person[key] + "<br>";
                }
                return str;
            }
            document.getElementById("area6").innerHTML = person.toString();
            delete(person.dream);
            document.getElementById("area6").innerHTML = person.toString();

        }
    </script>
</body>
</html>