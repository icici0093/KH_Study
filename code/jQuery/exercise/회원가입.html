<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>회원가입 유효성 검사 실습</title>
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
</head>
<body>
<script>
    // window.onload
    // $(document).ready(function() {})
    // $(function() {})
    $(function(){
        message = $("#message");
        userId = $("#user_id");
        userPw = $("#pw");
    });
    function check(){
        $("form").on("submit", function(){
            var userId = $("#user_id").val();
            if(userId == ""){
                message.html("ID를 입력해주세요.");
                return false;
            }
            var regExpId = /^[a-z][a-z0-9]{3,11}$/;
            // 인수로 전달된 문자열에 특정 패턴과 일치하는 문자열이 있는지를 검색
            if(!regExpId.test(userId)){
                message.html("ID는 영소문자+숫자 4~12자리이며 영소문자로 시작해야합니다.");
                return false;
            }

            var userPw = $("#pw").val();
            if(userPw == ""){
                message.html("PW를 입력해주세요.");
                return false;
            }
            var regExpPw = /[a-zA-Z0-9]{8,12}$/
            if(!regExpPw.test(userPw)){
                message.html("PW는 8~12자리의 영어소문자,대문자,숫자로만 입력가능합니다.")
                return false;
            }
            var userPwCheck = $("#pw_re").val();
            if(userPw != userPwCheck){
                message.html("PW를 확인해주세요.");
                return false;
            }
            var userName = $("#user_name").val();
            if(userName == ""){
                message.html("이름을 입력해주세요.");
                return false;
            }
            var regExpName = /^[가-힣]+$/;
            if(!regExpName.test(userName)){
                message.html("이름은 한글, 최소 2글자에서 4글자를 입력해야 합니다.");
                return false;
            }
            
            var userAddr = $("#addr").val();
            if(userAddr == ""){
                message.html("주소를 입력해주세요.");
                return false;
            }
            var regExpAddr = /[가-힣]/;
            if(!regExpAddr.test(userAddr)){
                message.html("주소에 영어와 공백은 입력 불가합니다.");
                return false;
            }

            var userpNum1 = $("#post_1").val();
            if(userpNum1 == ""){
                message.html("우편번호를 입력해주세요.");
                return false;
            }
            var regExpPNum1 = /[0-9]/;
            if(!regExpPNum1.test(userpNum1)){
                message.html("우편번호는 숫자 외 입력 불가합니다.");
                return false;
            }
            var userpNum2 = $("#post_2").val();
            if(userpNum2 == ""){
                message.html("우편번호를 입력해주세요.");
                return false;
            }
            var regExpPNum2 = /[0-9]/;
            if(!regExpPNum2.test(userpNum2)){
                message.html("우편번호는 숫자 외 입력 불가합니다.");
                return false;
            }

            var userEmail = $("#email").val();
            if(userEmail == ""){
                message.html("이메일을 입력해주세요.");
                return false;
            }
            var regExpemail = /^[a-Z0-9]{4,12}\@/
            if(!regExpemail.test(userEmail)){
                message.html("이메일을 확인해주세요.");
                return false;
            }

            var tel1 = $("#tel1").val();
            if(tel1 == ""){
                message.html("전화번호를 입력해주세요.");
                return false;
            }
            var regExpTel = /^010$/;
            if(!regExpTel.test(tel1)){
                message.html("010/011/016/017/019 중 입력해주세요.");
                return false;
            }
            var tel2 = $("#tel2").val();
            if(tel2 == ""){
                message.html("전화번호를 입력해주세요.");
                return false;
            }
            regExpTel = /^[0-9]{3,4}$/;
            if(!regExpTel.test(tel2)){
                message.html("가운데번호 3자리 이상 입력해주세요.");
                return false;
            }
            var tel3 = $("#tel3").val();
            if(tel1 == ""){
                message.html("전화번호를 입력해주세요.");
                return false;
            }
            regExpTel = /^[0-9]{4}$/;
            if(!regExpTel.test(tel3)){
                message.html("끝 번호 4자리를 입력해 주세요");
                return false;
            }
        });
    }
</script>
    
<style>
    fieldset{
        height:400px;
        width:400px;
    }
</style>
        문제<br>
    회원가입시 각 필드마다 유효성 검사를 하여 처리 할 수 있도록 만들어라. <br>
    1. ID는 영어소문자,숫자만 가능해야함(4~12자리,소문자로 시작해야함) <br>
    2. PW는 영어소문자,대문자,숫자만 입력 가능해야 하고 (최소 8~12자리) <br>
    3. PW와 PW_re는 같아야 함<br>
    4. NAME은 무조건 한글만 가능해야 함(최소1글자 이상)<br>
    5. 주소에는 영어 사용 불가(공백 불가)<br>
    6. 우편번호는 무조건 숫자만 입력 가능해야 함<br>
    7. 이메일은 @가 포함 되어야 함(@앞에가 영문자,숫자로  4~12글자 ) <br>
    8. 전화번호는 첫번째 필드는 010만 입력 가능 해야 함 <br>
                두번째 필드는 3자리 이상 입력 해야 함 <br>
                세번째 필드는 무조건 4자리 입력 해야함 <br>
               (모두 숫자만 가능 해야함) <br>
    
<center>

    <fieldset>
        <legend>회원가입</legend>
<pre>
<span id="message" style="color:blue;"></span>
            <form action="join" method="post">
ID :        <input type="text" id="user_id" /><br>
PW :        <input type="password" id="pw" /><br>
PW_re :     <input type="password" id="pw_re" /><br>
NAME :      <input type="text" id="user_name" /><br>
ADDRESS :   <input type="text" id="addr" /><br>
POST NUMBER:  <input type="text" size="5" id="post_1" /> - <input type="text" size="5" id="post_2" /> <br>
E-MAIL :    <input type="text" id="email" /><br>
PHONE :     <input type="text" id="tel1" size="2" maxlength="3" />-<input type="text" id="tel2" size="2" maxlength="4" />-<input type="text" id="tel3" size="2" maxlength="4" /><br>
<input type="submit" value="회원가입" onclick="return check();"/>  <input type="reset" value="취소" />
            </form>
</pre>
    </fieldset>
</center>

</body>
</html>